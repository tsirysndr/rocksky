amends  "../../schema/lexicon.pkl"

lexicon = 1
id = "app.rocksky.artist.defs"
defs = new Mapping<String, ObjectType> {
  ["artistViewBasic"] {
    type = "object"
    properties {
      ["id"] = new StringType {
        type = "string"
        description = "The unique identifier of the artist."
      }

      ["uri"] = new StringType {
        type = "string"
        format = "at-uri"
        description = "The URI of the artist."
      }

      ["name"] = new StringType {
        type = "string"
        description = "The name of the artist."
      }

      ["picture"] = new StringType {
        type = "string"
        description = "The picture of the artist."
      }

      ["sha256"] = new StringType {
        type = "string"
        description = "The SHA256 hash of the artist."
      }

      ["playCount"] = new IntegerType {
        type = "integer"
        description = "The number of times the artist has been played."
        minimum = 0
      }

      ["uniqueListeners"] = new IntegerType {
        type = "integer"
        description = "The number of unique listeners who have played the artist."
        minimum = 0
      }

    }
  }

  ["artistViewDetailed"] {
    type = "object"
    properties {
      ["id"] = new StringType {
        type = "string"
        description = "The unique identifier of the artist."
      }

      ["uri"] = new StringType {
        type = "string"
        format = "at-uri"
        description = "The URI of the artist."
      }

      ["name"] = new StringType {
        type = "string"
        description = "The name of the artist."
      }

      ["picture"] = new StringType {
        type = "string"
        description = "The picture of the artist."
      }

      ["sha256"] = new StringType {
        type = "string"
        description = "The SHA256 hash of the artist."
      }

      ["playCount"] = new IntegerType {
        type = "integer"
        description = "The number of times the artist has been played."
        minimum = 0
      }

      ["uniqueListeners"] = new IntegerType {
        type = "integer"
        description = "The number of unique listeners who have played the artist."
        minimum = 0
      }

    }
  }

  ["songViewBasic"] {
    type = "object"
    properties {
      ["uri"] = new StringType {
        type = "string"
        format = "at-uri"
        description = "The URI of the song."
      }

      ["title"] = new StringType {
        type = "string"
        description = "The title of the song."
      }

      ["playCount"] = new IntegerType {
        type = "integer"
        description = "The number of times the song has been played."
        minimum = 0
      }

    }
  }

  ["listenerViewBasic"] {
    type = "object"
    properties {
      ["id"] = new StringType {
        type = "string"
        description = "The unique identifier of the actor."
      }

      ["did"] = new StringType {
        type = "string"
        description = "The DID of the listener."
      }

      ["handle"] = new StringType {
        type = "string"
        description = "The handle of the listener."
      }

      ["displayName"] = new StringType {
        type = "string"
        description = "The display name of the listener."
      }

      ["avatar"] = new StringType {
        type = "string"
        format = "uri"
        description = "The URL of the listener's avatar image."
      }

      ["mostListenedSong"] = new Ref {
        ref = "app.rocksky.artist.defs#songViewBasic"
      }

      ["totalPlays"] = new IntegerType {
        type = "integer"
        description = "The total number of plays by the listener."
        minimum = 0
      }

      ["rank"] = new IntegerType {
        type = "integer"
        description = "The rank of the listener among all listeners of the artist."
        minimum = 1
      }

    }
  }

  ["artistMbid"] {
    type = "object"
    properties {
      ["mbid"] = new StringType {
        type = "string"
        description = "The MusicBrainz Identifier (MBID) of the artist."
      }
      ["name"] = new StringType {
        type = "string"
        description = "The name of the artist."
        minLength = 1
        maxLength = 256
      }
    }
  }
}
